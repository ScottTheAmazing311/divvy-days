<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divvy Days - A Visual Novel Experience</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/slack.css">
    <!-- Persona 5 Style Overrides -->
    <link rel="stylesheet" href="css/persona5.css">
    <link rel="stylesheet" href="css/persona5-modals.css">
</head>
<body>
    <div class="game-container scanlines">
        <!-- Halftone Background Effect -->
        <div class="halftone-bg"></div>
        <!-- Header -->
        <header class="game-header">
            <div class="day-info">
                <span id="day-display">Day 1</span>
                <span class="separator">‚Ä¢</span>
                <span id="period-display">Morning</span>
            </div>
            <div class="header-actions">
                <button id="map-btn" class="header-btn">üó∫Ô∏è Map</button>
                <button id="slack-btn" class="header-btn">üí¨ Slack</button>
                <button id="save-btn" class="header-btn">üíæ Save</button>
                <button id="load-btn" class="header-btn">üìÅ Load</button>
                <button id="menu-btn" class="header-btn">‚ò∞ Menu</button>
            </div>
        </header>

        <!-- Left Sidebar: Relationships & Achievements -->
        <aside class="sidebar left-sidebar" id="relationships-sidebar">
            <div class="sidebar-header">
                <h2>Relationships</h2>
                <button class="sidebar-toggle" id="relationships-toggle">‚ñº</button>
            </div>
            <div class="sidebar-content" id="relationships-content">
                <!-- Dynamically populated -->
            </div>

            <div class="sidebar-header" style="margin-top: 20px;">
                <h2>Achievements</h2>
                <button class="sidebar-toggle" id="badges-toggle">‚ñº</button>
            </div>
            <div class="sidebar-content" id="badges-content">
                <div class="progress-tracker">
                    <div class="progress-item">
                        <span class="progress-label">Core Experiences:</span>
                        <span id="core-exp-count">0/3</span>
                    </div>
                    <div class="progress-item">
                        <span class="progress-label">Friends Made:</span>
                        <span id="friends-count">0/5</span>
                    </div>
                </div>
                <div class="badges-list" id="badges-list">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </aside>

        <!-- Main Scene Area -->
        <main class="scene-container" id="scene-container">
            <div class="scene-background" id="scene-background">
                <div class="background-label" id="background-label">Divvy Lobby</div>
            </div>
            <div class="character-portrait" id="character-portrait">
                <div class="portrait-placeholder" id="portrait-placeholder"></div>
                <div class="character-name" id="character-name"></div>
            </div>
        </main>

        <!-- Text Box & Choices -->
        <section class="interaction-area">
            <div class="text-box" id="text-box">
                <div class="text-content" id="text-content">
                    <!-- Dialogue appears here -->
                </div>
            </div>
            <div class="choices-container" id="choices-container">
                <!-- Choice buttons appear here -->
            </div>
        </section>
    </div>

    <!-- Slack Modal -->
    <div class="modal-overlay" id="slack-modal">
        <div class="modal-content slack-modal">
            <div class="modal-header">
                <h2>üì± Slack Message</h2>
                <button class="modal-close" id="slack-close">‚úï</button>
            </div>
            <div class="modal-body" id="slack-body">
                <div class="slack-character-select" id="slack-character-select">
                    <p>Who would you like to message?</p>
                    <div class="character-list" id="slack-character-list">
                        <!-- Character buttons appear here -->
                    </div>
                </div>
                <div class="slack-conversation" id="slack-conversation" style="display: none;">
                    <div class="slack-messages" id="slack-messages">
                        <!-- Messages appear here -->
                    </div>
                    <button class="btn btn-primary" id="slack-continue">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Save/Load Modal -->
    <div class="modal-overlay" id="save-load-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="save-load-title">Save Game</h2>
                <button class="modal-close" id="save-load-close">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="save-slots" id="save-slots">
                    <!-- Save slots appear here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Menu Modal -->
    <div class="modal-overlay" id="menu-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Menu</h2>
                <button class="modal-close" id="menu-close">‚úï</button>
            </div>
            <div class="modal-body">
                <button class="menu-option-btn" id="new-game-btn">üéÆ New Game</button>
                <button class="menu-option-btn" id="continue-btn">‚ñ∂Ô∏è Continue</button>
                <button class="menu-option-btn" id="endings-btn">üèÜ Endings Gallery</button>
                <button class="menu-option-btn" id="about-btn">‚ÑπÔ∏è About</button>
            </div>
        </div>
    </div>

    <!-- Badge Unlock Notification -->
    <div class="notification" id="badge-notification">
        <div class="notification-content">
            <div class="notification-icon">üèÜ</div>
            <div class="notification-text">
                <div class="notification-title">Achievement Unlocked!</div>
                <div class="notification-description" id="notification-description"></div>
            </div>
        </div>
    </div>

    <!-- Ending Screen -->
    <div class="modal-overlay" id="ending-modal" style="display: none;">
        <div class="modal-content ending-screen">
            <div class="ending-content" id="ending-content">
                <!-- Ending details appear here -->
            </div>
        </div>
    </div>

    <!-- Title/Welcome Screen -->
    <div class="modal-overlay active" id="title-screen">
        <div class="title-screen-content">
            <div class="title-logo">
                <h1 class="title-main">Divvy Days</h1>
                <p class="title-subtitle">A Visual Novel Experience</p>
            </div>
            <div class="title-description">
                <p>Your first week as a marketing intern at Divvy.</p>
                <p>Make friends, build relationships, and shape your story.</p>
            </div>
            <div class="title-buttons">
                <button class="title-btn primary" id="title-new-game" data-text="üéÆ NEW GAME">
                    <span class="btn-icon">üéÆ</span> New Game
                </button>
                <button class="title-btn" id="title-continue" data-text="‚ñ∂Ô∏è CONTINUE" style="display: none;">
                    <span class="btn-icon">‚ñ∂Ô∏è</span> Continue
                </button>
                <button class="title-btn" id="title-load" data-text="üìÅ LOAD GAME">
                    <span class="btn-icon">üìÅ</span> Load Game
                </button>
            </div>
            <div class="title-footer">
                <p>‚è±Ô∏è Playtime: 15-20 minutes | üéØ 10 Unique Endings | üíæ Auto-Save Enabled</p>
            </div>
        </div>
    </div>

    <!-- Character Bio Modal -->
    <div class="modal-overlay" id="character-bio-modal">
        <div class="modal-content character-bio-modal">
            <div class="modal-header">
                <h2 id="character-bio-name">Character Name</h2>
                <button class="modal-close" id="character-bio-close">‚úï</button>
            </div>
            <div class="modal-body character-bio-body">
                <div class="character-bio-portrait" id="character-bio-portrait"></div>
                <div class="character-bio-info">
                    <div class="bio-section">
                        <h3>About</h3>
                        <p id="character-bio-text"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Office Map Modal -->
    <div class="modal-overlay" id="map-modal">
        <div class="modal-content office-map-modal">
            <div class="modal-header">
                <h2>üó∫Ô∏è Office Map</h2>
                <button class="modal-close" id="map-close">‚úï</button>
            </div>
            <div class="modal-body">
                <p class="map-description">Navigate to different areas of the office. You might find coworkers to chat with!</p>
                <div class="office-map-grid" id="office-map-grid">
                    <!-- Rooms will be populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Day Transition Modal -->
    <div class="modal-overlay" id="day-transition-modal">
        <div class="modal-content day-transition-modal">
            <div class="day-transition-content">
                <div class="day-transition-text" id="day-transition-text">
                    End of Day 1
                </div>
                <button class="btn btn-primary day-transition-btn" id="day-transition-continue">
                    Start Day 2
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/characters.js"></script>
    <script src="js/badges.js"></script>
    <script src="js/map.js"></script>
    <script src="js/scenarios_map.js"></script>
    <script src="js/scenarios.js"></script>
    <script src="js/endings.js"></script>
    <script src="js/save.js"></script>
    <script src="js/slack.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
